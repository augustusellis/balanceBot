<launch>
  
  <node pkg="balance_bot" name="motorA" type="dcmotor_node.py">
  <param name="I1" value="14" />
  <param name="I2" value="15" />
  <param name="pwm" value="18" />
  <param name="encA" value="7" />
  <param name="encB" value="8" />
  <remap from="current_position" to="phiA"/>
  </node>

  <node pkg="balance_bot" name="motorB" type="dcmotor_node.py">
  <param name="I1" value="23" />
  <param name="I2" value="24" />
  <param name="pwm" value="19" />
  <param name="encA" value="11" />
  <param name="encB" value="9" />
  <remap from="current_position" to="phiB"/>
  </node>
  
  <node pkg="balance_bot" name="mpu6050" type="imu_node.py">
  <param name="mpu_vio" value="4" />
  </node>
  
  <node pkg="pid" name="pidController" type="controller">
  <param name="Kp"            value="10.0" />
  <param name="Ki"            value="0.225" />
  <param name="Kd"            value="63.0" />
  <param name="upper_limit"   value="250" />
  <param name="lower_limit"   value="-250" />
  <param name="windup_limit"  value="500" />
  <param name="topic_from_controller"  value="u" />
  <param name="setpoint_topic"    value="setpoint" />
  <param name="pid_enable_topic"  value="pid_enable" />
  <param name="topic_from_plant" value="current_imu"/>
  </node>

  <node pkg='balance_bot' name='setpoint' type="setpoint_node.py">
  <param name="setpoint" value="0"/>
  <param name="rate" value="0.5"/>
  </node>

</launch>
